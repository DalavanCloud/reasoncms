// Foundation imports
@import "settings";
@import "foundation/components/grid";
@import "foundation/components/forms";
@import "foundation/components/buttons";
@import "foundation/components/alert-boxes";

// Compass imports
@import "compass/css3";

// Font Awesome Imports
@import "font-awesome/variables";
@import "font-awesome/core";
@import "font-awesome/mixins";
@import "font-awesome/rotated-flipped";

// Luther imports
@import "extends";
@import "mixins";

$tab-default-color: $lc-blue-light;
$tab-current-color: $lc-blue-dark;

//	1. HOME PAGE
//	2. GIVE NOW FORM
//		2a. Give Now (Home Page)
//		2b. Give Now Mini
//	3. GIVING FORM


//	1. HOME PAGE
.siteHome {

	#minisite {

		// COLUMNS
		&.hasConRelNav { /* 3 COLUMNS: Nav, Content, & Related */

			#contentFeature {
				@include grid-row();
			}

			@media #{$large-up} {
				#contentAndRelated {
					// Minisite navigation is in "desktop" view is hidden on the homepage.
					@include grid-column($columns: 16, $collapse: true);

					#contentSections {
						@include grid-column($columns: 8, $collapse: true);
						padding-right: 0;
					}
					
					#relatedSections {
						@include grid-column($columns: 8, $collapse: true);
						padding-left: 0;
					}
				}
			}

			// @media #{$large-high-up} {
			// 	#contentAndRelated {
					
			// 		// Content and sidebar are now side by side.
			// 		#contentSections {
			// 			@include grid-column($columns: 10, $collapse: true);
			// 			padding-right: $column-gutter / 2;
			// 		}
					
			// 		#relatedSections {
			// 			@include grid-column($columns: 6, $collapse: true);
			// 			padding-left: $column-gutter / 2;
			// 		}
			// 	}
			// }

			@media #{$xlarge-up} {
				#contentAndRelated {
					@include grid-column($columns: 16, $collapse: true);
					//padding-left: $column-gutter / 2;

					#contentSections {
						@include grid-column($columns: 8, $collapse: true);
						padding-right: $column-gutter / 2;
					}
					
					#relatedSections {
						@include grid-column($columns: 8, $collapse: true);
						padding-left: $column-gutter / 2;
					}
				}
			}
		}

		// Hide the nav on desktop. We still want it for mobile, so it stays in the markup.
		@media #{$large-up} {
			#navWrap {
				display: none;
			}
		}

		.contentHead {
			display: none !important;
		}	
	}
}

//	2. GIVE NOW FORM

//  2a. Give Now (Home Page)
.siteHome #minisite {

	.give-now-mini {
		display: none;
	}

	.give-now {
		background: url('/reason/local/luther_2014/images/giving/give-now.jpg') no-repeat top left;
		@include clearfix;
		min-height: 540px;

		.give-now-text {
			@include clearfix;
			
			box-shadow: 0 2px 2px rgba(black,.2);

			@media #{$medium-up} {
				@include grid-column($columns:16, $collapse: true);
				margin-top:  5%;
				margin-bottom: $column-gutter/2;
			}

			@media #{$medium-only} {
				height: 100%;
				max-width: rem-calc(600);
				margin: 5% auto $column-gutter/2;;
				float: none;					
			}

			@media #{$large-up} {
				@include grid-column($columns:14,$push:1);
				box-shadow: none;
			}

			@media #{$large-high-up} {
				@include grid-column($columns:12,$push:.5);
			}

			@media #{$xlarge-up} {
				@include grid-column($columns:10.5,$push:.5);
			}

			.give-now-form {
				background: rgba($lc-blue-light,.85);
				padding: $column-gutter;
				color: white;

				@media #{$large-up} {
					width: 60%;
					float: left;
				}
				
				h2 {
					margin: 0 0 rem-calc(20) 0;
					color: white;
				}

				form {

					.formElement {
						padding: 0 0 rem-calc(20) 0;

						.words {
							@extend .screenreader;
						}

						.element {
							
							input[type="text"] {
								border: none;
								padding: rem-calc(14);
								height: auto;
							}

							table {
								tbody {
									
									@media #{$medium-up} {
										tr {
											display: block;
											width: 50%;
											float: left;
											padding: 0 rem-calc(20);
										}
									}

									tr td label {
										font-size: rem-calc(18);
										font-family: $body-font-family !important;
									}
								}
							}

							.radioButtons {
								font-weight: 700;
							}
						}
					}

					.submitSection {
						padding: 0;

						input[type="submit"] {
							width: 100%;
							display: block;
							border-radius: $global-rounded;
							background: $lc-yellow;
							@include button-size($padding: $button-med);
							font-family: $body-font-family;
							font-size: rem-calc(22) !important;

							&:hover {
								background: lighten($lc-yellow, 3%);
							}

							&:active {
								background: darken($lc-yellow, 3%);
							}
						}
					}
				}

				form table tr td {
					color: white;
				}
			}

			.other-ways {
				background: white;
				padding: $column-gutter;

				@media #{$large-up} {
					width: 40%;
					float: left;
					background: rgba(white,.9);
				}

				h3 {
					margin: 0 0 rem-calc(8);
					line-height: 1;

					a {
						line-height: 1;
						font-weight: 700;
						color: $lc-yellow;
						font-size: rem-calc(18);
						text-decoration: underline;

						@media #{$small-only} {
							//background: #efefef;
							border: 2px solid $lc-yellow;
							padding: rem-calc(16) rem-calc(24);
							display: block;
							border-radius: $global-rounded;
							text-align: center;
							text-decoration: none;
							line-height: 1.5;
						}
					}

					&:nth-of-type(2) {
						margin-top: rem-calc(12);
					}
				}

				ul {
					display: none;
					font-family: $header-font-family;
					margin: 0;
					font-size: rem-calc(14);

					@media #{$medium-up} {
						display: block;
					}

					li {
						display: inline;

						&:before {
							@extend .fa;
							content: $fa-var-circle;
							font-size: rem-calc(6);
							position: relative;
							top: - rem-calc(3);
							margin-right: rem-calc(4);
						}
					}
				}
			}
		}	
	}
}


//  2b. Give Now Mini

// Add spacing for the absolute positioned gift form
#minisite #contentAndRelated .contentHead {
	@media #{$medium-up} {
		.breadcrumbs,
		.pageTitle {
			padding-right: rem-calc(220);
		}
	}
}

.give-now-mini {
	@include grid-row();
	max-width: rem-calc(360);
	margin-top: $column-gutter;
	
	@media #{$medium-up} {	
		position: absolute;
		top: $column-gutter/4;
		right: $column-gutter/2;
		margin: 0;
		width: rem-calc(220);
	}

	@media #{$large-up} {
		top: 0;
		right: 0;
	}

	h2 {
		margin: 0;
		padding: 0;
		
		a {
			@include cta-button($bg: $lc-green, $padding: rem-calc(12), $font-size: rem-calc(14), $icon: $fa-var-chevron-down);
		}
	}

	#give-dropdown {
		width: 100%;
		max-width: 100%;

		&.f-dropdown {
			border-radius: $global-radius;
		}

		@media #{$small-only} {
			padding: $column-gutter/3;
		}

		#form {
			@include grid-column(16);
			padding: $column-gutter/4;

			form {
				@include grid-row();

				.formElement {

					@include grid-column(9);
					padding: 0;

					@media #{$medium-up} {
						@include grid-column(16);
						padding: 0;
					}

					.words {
						@extend .screenreader;
					}

					.element {
				
						input[type="text"] {
							padding: rem-calc(6);
							height: 34px;
							border-color: rgba(black, .125);

							@media #{$small-only} { 
								border-right: none !important;
							}
						}

						@media #{$medium-up} { 
							margin-bottom: $column-gutter/4;
						}
					}
				}

				.submitSection {
					@include grid-column(7);
					padding: 0;

					@media #{$medium-up} {
						@include grid-column(16);
						padding: 0;
					}

					input[type="submit"] {
						width: 100%;
						display: block;
						border-radius: 0 $global-radius $global-radius 0;
						background: $lc-yellow;
						font-family: $body-font-family;
						padding-top: rem-calc(6);
						padding-bottom: rem-calc(6);
						line-height: 1.4;
						font-size: rem-calc(14) !important;
						height: 34px;

						@media #{$medium-up} { 
							border-radius: $global-radius;
						}

						&:hover {
							background: lighten($lc-yellow, 3%);
						}

						&:active {
							background: darken($lc-yellow, 3%);
						}
					}
				}
			}
		}
	}
}

//	3. GIVING FORM
#giving_form {

	// Form Navigation
	#formNavigation {

		margin-bottom: $column-gutter;

		ul {
			margin: 0;

			li {
				display: inline-block;

				@media
				#{$small-only} {
					display: block;
				}

				&.current {

 					a {
 						background: $tab-current-color;
 						position: relative;

						&:after {
 							@include css-triangle(10px, #FFF, left);
 							position: absolute;
							top: 50%;
							left: 0;
							margin-top: -8px;
 						}

 						@media
 						#{$medium-up} {
	 						&:after {
	 							@include css-triangle(10px, $tab-current-color, top);
	 							position: absolute;
	 							top: auto;
								bottom: -20px;
								left: 50%;
								margin-left: -10px;
	 						}
	 					}
 					}
				}

				a {
					display: block;
					background: $tab-default-color;
					padding: rem-calc(12) rem-calc(32);
					border: 1px solid #FFF;
					color: #FFF;
				}
			}
		}
	}

	#discoErrorNotice {
		margin-top: $column-gutter;
	}

	// Giving Form
	#disco_form {

		.formElement {
			background: none;

			div:empty {
			   display: none;
			}

			@media
			#{$medium-up} {

				padding-left: $column-gutter !important;

				h3,
				h3 + p {
					margin-left: -$column-gutter !important;
				}
			}


			p a {
				text-decoration: underline;
			}

			h3 {
				margin-top: rem-calc(16);
				border-bottom: 1px solid lighten($body-font-color, 30%);
				display: inline-block;
				color: $body-font-color;

				@media
				#{$small-only} {
					background: #efefef;
					padding: rem-calc(6) rem-calc(12);
					border: none;
				}
			}

			@media
			#{$small-only} {
				.inlineElement input {
					margin-bottom: rem-calc(6);
				}
			}

			// Reomove extra spacing between formElements
			&#annualfundItem,
			&#specificfundItem,
			&#matchgiftItem,
			&#existingpledgeItem {

				label {
					margin: 0;
				}
			}

			#installment_end_dateElement {
				margin-left: rem-calc(6);
			}
		}

		#giftamountheaderItem {

			h3 {
				margin-top: 0;
			}
			
		}

		#giftamountItem.error {
			input {
				background: lighten($alert-color, 50%) !important;
				border: 1px solid lighten($alert-color, 40%) !important;
			}
		}

		#namegroupItem {
			margin-top: $column-gutter;
		}

		#reviewnoteItem {
			
			@media
			#{$medium-up} {
				background: lighten($lc-blue-light, 50%);
				background: lighten($lc-grey, 4%);
				border: 1px solid $lc-grey;
				padding: $column-gutter/2;
				@include border-radius($global-radius);
			}

			#reviewGiftOverview {
				.summary {
					font-size: rem-calc(24);
				}
			}
		}

		#showGiftDetails,
		.changeGiftButton a {
			@include default-button();
			display: inline-block;
			text-decoration: none !important;
		}

		#reviewGiftDetails {
			background: #FFF;
			position: relative;
			padding: $column-gutter/2;
			margin-bottom: $column-gutter;
			@include border-radius($global-radius);
			@include box-shadow(rgba(0,0,0,.25) 0 0 4px);
			
			@media
			#{$small-only} {
				padding: rem-calc(8);
			}

			h3 {
				margin-left: 0 !important;
				margin-top: 0 !important;
				margin-right: rem-calc(60);
			}

			#hideGiftDetails {
				display: block;
				position: absolute;
				right: $column-gutter/2;
				top: $column-gutter/2;
				font-size: rem-calc(24);
			}

			table {
				margin-bottom: $column-gutter/2;

				tr,
				td {
					border: 1px solid $lc-grey;
					padding: rem-calc(12);
				}
			}

			#givingTotalsDisclaimer {
				margin-bottom: 0;
			}
		}

	}

	.announcement {
		clear: both;
		background: $lc-grey;
		border: 1px solid darken($lc-grey, 10%);
		padding: $column-gutter/2 $column-gutter/1.5;
		margin-bottom: $paragraph-margin-bottom;
	}
}