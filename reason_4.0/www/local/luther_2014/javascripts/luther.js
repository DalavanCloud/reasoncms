// custom scripts for luther.edu

$(document).ready(function() {

	// Add js class
	$('body').addClass('js');
	
	// Open / close global search on mobile
	$('#mobile-nav a.search').click(function( event ) {
		$(this).toggleClass('open');
		$('#search-nav').toggleClass('open');
		event.preventDefault();
	});
	
	// Open / close minisite navigation on mobile
	$('#navWrap a.toggle').click(function( event ) {
		$(this).toggleClass('open');
		$('#navWrap').toggleClass('open');
		event.preventDefault();
	});
		
	// Open / close global navigation on desktop	
	//$('#global-nav .sections li a').click(function() {
	//	$(this).parent().toggleClass('open');
	//});

	// Remove &nbsp; tags generated by the WYSIWYG. They get thrown in all over the place, and can really mess up styling.
	$('.fullPost p, .pageContent p, .blurb p').each(function() {
		var $this = $(this);
		$this.html($this.html().replace(/&nbsp;/g, ''));
	});

	// show and hide shows children pages on landing pages
    $('li.navListItem.accordion > a').click(function( event ) {
    	$(this).parent().toggleClass ('closed');
    	event.preventDefault();
    	});
		
});